{"version":3,"sources":["pages/Find/Banner/index.module.less","hooks/Find/createContextFind.js","utils/axios.js","utils/apis.js","hooks/Find/useReducerFind.js","pages/Find/Banner/index.js","pages/Find/index.js"],"names":["module","exports","createContext","axios","defaults","headers","get","withCredentials","interceptors","response","use","error","bannerUrl","initialState","list","reducer","state","action","type","findBannerList","dispatch","url","prm","Promise","resolve","reject","params","then","res","data","catch","axiosGet","useEffect","React","useContext","Banner","createContextFind","banners","length","className","styles","bannerBox","autoplay","infinite","map","item","index","banner","style","backgroundImage","pic","Find","useReducer","Provider","value"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,UAAY,wBAAwB,OAAS,4B,qGCAhDC,4B,2BCCfC,IAAMC,SAASC,QAAQC,IAAI,gBAAkB,kCAC7CH,IAAMC,SAASC,QAAQC,IAAvB,OAAuC,kCAEvCH,IAAMC,SAASG,iBAAkB,EAEjCJ,IAAMK,aAAaC,SAASC,KACxB,SAAUD,GACN,OAAOA,KAEX,SAAUE,OAKP,ICZMC,EAHM,iBADA,iBACA,SAGY,UCAlBC,EAAe,CACxBC,KAAM,IAGGC,EAAU,WAAmC,IAAlCC,EAAiC,uDAAzBH,EAAcI,EAAW,uCACrD,MAAoB,qBAAhBA,EAAOC,KACA,2BACAF,GADP,IAEIF,KAAMG,EAAOH,OAGdE,GAKEG,EAAiB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,UFJT,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,IAAKC,EAAU,EAAVA,IAC5B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzBtB,IAAMG,IAAIe,EAAK,CACXK,OAAQJ,IACTK,MAAK,SAAAC,GACJJ,EAAQI,EAAIC,SACbC,OAAM,SAAAF,GACLH,EAAOG,EAAIC,aEFnBE,CAAS,CACLV,IAAKT,EACLU,IAAK,CAEDJ,KAAM,KAEXS,MAAK,SAACC,GACLR,EAAS,CACLF,KA3Ba,mBA4BbJ,KAAMc,Q,kBCrBdI,EAGAC,IAHAD,UACAE,EAEAD,IAFAC,WAwEWC,EAnEA,WAAM,MASbD,EAAWE,GATE,IAETpB,MACJF,KAHa,gBAKT,GALS,GAITuB,eAJS,MAIC,GAJD,EAQbjB,EARa,EAQbA,SAaJ,OAXAY,GAAU,WAENb,EAAe,CAAEC,eAElB,IAEHY,GAAU,cAIP,IAECK,GAAWA,EAAQC,OAAS,GAC5B,qBAAKC,UAAWC,IAAOC,UAAvB,SACI,mBACIC,UAAQ,EACRC,UAAQ,EAFZ,SAKQN,GAAWA,EAAQO,KAAI,SAACC,EAAMC,GAC1B,OACI,qBACIP,UAAWC,IAAOO,OAClBC,MAAO,CAAEC,gBAAgB,OAAD,OAASJ,EAAKK,IAAd,OADOJ,WCnChDK,UARF,WAAO,IAAD,EACWC,qBAAWrC,EAASF,GAD/B,mBACRG,EADQ,KACDI,EADC,KAEf,OACI,cAACgB,EAAkBiB,SAAnB,CAA4BC,MAAO,CAAEtC,QAAOI,YAA5C,SACI,cAAC,EAAD","file":"static/js/4.0432b88c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bannerBox\":\"UKy-NjQeb-RQZqQFll85-\",\"banner\":\"_2xtd7RAzmg32i1eBdcCT3F\"};","import { createContext } from \"react\";\nexport default createContext();","import axios from 'axios';\n\naxios.defaults.headers.get['Content-Type'] = 'application/json; charset=utf-8';\naxios.defaults.headers.get['Accept'] = 'application/json; charset=utf-8';\n// axios.defaults.headers.get['Content-Security-Policy'] = 'upgrade-insecure-requests';\naxios.defaults.withCredentials = true;\n\naxios.interceptors.response.use(\n    function (response) {\n        return response;\n    },\n    function (error) {\n\n    },\n);\n\nexport const axiosGet = ({ url, prm }) => {\n    return new Promise((resolve, reject) => {\n        axios.get(url, {\n            params: prm\n        }).then(res => {\n            resolve(res.data);\n        }).catch(res => {\n            reject(res.data);\n        })\n    });\n}","const serverAddr = '106.52.241.181'\nexport const SERVER = `http://${serverAddr}:3000`;\n\n// export const bannerUrl = `/json/banner.json`; // banner\nexport const bannerUrl = SERVER + `/banner`; // banner\nexport const personalized = `/personalized`; // 推荐歌单\nexport const newsong = `/personalized/newsong`; // 最新音乐","import { axiosGet } from '../../utils/axios';\nimport { bannerUrl } from '../../utils/apis';\nconst FIND_BANNER_LIST = 'FIND_BANNER_LIST';\n\nexport const initialState = {\n    list: {}\n}\n\nexport const reducer = (state = initialState, action) => {\n    if (action.type === 'FIND_BANNER_LIST') {\n        return {\n            ...state,\n            list: action.list\n        }\n    }\n    return state;\n}\n\n\n\nexport const findBannerList = ({ dispatch }) => {\n    axiosGet({\n        url: bannerUrl,\n        prm: {\n            // 0: pc,1: android,2: iphone,3: ipad\n            type: 2\n        }\n    }).then((res) => {\n        dispatch({\n            type: FIND_BANNER_LIST,\n            list: res\n        })\n    })\n};","import React from 'react';\nimport createContextFind from '../../../hooks/Find/createContextFind';\nimport { findBannerList } from '../../../hooks/Find/useReducerFind';\nimport { Carousel } from 'antd-mobile';\n// import Swiper from \"swiper\"\n// import \"swiper/swiper-bundle.css\";\nimport styles from './index.module.less';\n\nconst {\n    useEffect,\n    useContext,\n    // useRef,\n} = React;\n\n\nconst Banner = () => {\n    // const swiperDom = useRef(null);\n    const { state: {\n        list: {\n            banners = []\n        } = {}\n    },\n        // state,\n        dispatch\n    } = useContext(createContextFind);\n    useEffect(() => {\n        // other code\n        findBannerList({ dispatch });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        // new Swiper(swiperDom.current, {\n        //     loop: true\n        // });\n    }, []);\n    return (\n        banners && banners.length > 0 &&\n        <div className={styles.bannerBox}>\n            <Carousel\n                autoplay\n                infinite\n            >\n                {\n                    banners && banners.map((item, index) => {\n                        return (\n                            <div\n                                className={styles.banner} key={index}\n                                style={{ backgroundImage: `url(${item.pic})` }}\n                            >\n                                {/* <img className={styles.imgBox} src={item.pic} alt={item.typeTitle} /> */}\n                            </div>\n                        )\n                    })\n                }\n            </Carousel>\n        </div>\n\n\n    )\n    // return (\n    //     <div ref={swiperDom} className={`${styles.bannerBox} swiper-container`}>\n    //         <div className=\"swiper-wrapper\">\n    //             {\n    //                 banners && banners.map((item, index) => {\n    //                     return (\n    //                         <div className=\"swiper-slide\" key={index}>\n    //                             <div key={index} className={`${styles.carouselBox} `}>\n    //                                 <div className={styles.imgBox}>\n    //                                     <img className={styles.img} src={item.pic} alt={item.typeTitle} />\n    //                                 </div>\n    //                             </div>\n    //                         </div>\n\n    //                     )\n    //                 })\n    //             }\n    //         </div>\n    //     </div>\n    // )\n}\n\nexport default Banner;","import React, { useReducer } from 'react';\nimport Banner from './Banner';\nimport createContextFind from '../../hooks/Find/createContextFind';\nimport { reducer, initialState } from '../../hooks/Find/useReducerFind';\nconst Find = () => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n    return (\n        <createContextFind.Provider value={{ state, dispatch }}>\n            <Banner />\n        </createContextFind.Provider>\n    )\n};\nexport default Find;"],"sourceRoot":""}